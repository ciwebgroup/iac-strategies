# WordPress Farm Infrastructure Configuration
# Generated: Tue Jan 20 12:13:15 PM CST 2026
# DO NOT COMMIT THIS FILE TO VERSION CONTROL

# =============================================================================
# DIGITALOCEAN CONFIGURATION
# =============================================================================

DO_API_TOKEN=dop_v1_your_actual_token_here
DO_REGION=nyc3
DO_SSH_KEY_NAME=wp-farm-deploy-key

# DigitalOcean Spaces (S3-compatible storage)
DO_SPACES_ACCESS_KEY=DO00XXXXXXXXXXXX
DO_SPACES_SECRET_KEY=your_secret_key_here
DO_SPACES_REGION=nyc3
DO_SPACES_BUCKET=wp-farm-backups
DO_SPACES_ENDPOINT=https://nyc3.digitaloceanspaces.com

# S3 compatibility (aliases for DO Spaces)
S3_ACCESS_KEY=${DO_SPACES_ACCESS_KEY}
S3_SECRET_KEY=${DO_SPACES_SECRET_KEY}
S3_REGION=${DO_SPACES_REGION}
S3_BUCKET=${DO_SPACES_BUCKET}
S3_ENDPOINT=https://${DO_SPACES_REGION}.digitaloceanspaces.com

# =============================================================================
# NODE CONFIGURATION
# =============================================================================

# Manager nodes (Swarm control plane)
MANAGER_NODE_COUNT=3
MANAGER_NODE_SIZE=s-2vcpu-4gb

# Worker nodes (application servers)
WORKER_NODE_COUNT=3
WORKER_NODE_SIZE=s-2vcpu-4gb

# Cache nodes (Redis + Varnish)
CACHE_NODE_COUNT=2
CACHE_NODE_SIZE=s-2vcpu-4gb

# Database nodes (MySQL/MariaDB Galera Cluster)
DB_NODE_COUNT=2
DB_NODE_SIZE=s-4vcpu-8gb

# Storage nodes (NFS for WordPress uploads)
STORAGE_NODE_COUNT=2
STORAGE_NODE_SIZE=s-2vcpu-4gb
STORAGE_VOLUME_SIZE=100

# Monitoring nodes (Prometheus, Grafana, Loki)
MONITOR_NODE_COUNT=1
MONITOR_NODE_SIZE=s-4vcpu-8gb

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

MYSQL_ROOT_PASSWORD=uxPuDIVliqRNvbIRGHbH91uFnWV8zByaNVXyMJeBZvc=
PROXYSQL_ADMIN_PASSWORD=JvW+vXlqxJo8Pzn3k3/LLhKC9lhsxTrYb01m8+uBbbE=
GALERA_SST_PASSWORD=jpUyJoqEkPZkz75ENa/nK6PJUq2Kn3Lb7wxtuqkPoK8=
DB_BACKUP_PASSWORD=aO6pmI38DooVQDOKAHkqk5JiuhAU2KN7unA9Zz5h9x0=

# Database cluster settings
MYSQL_MAX_CONNECTIONS=500
GALERA_CLUSTER_NAME=wp-farm-cluster

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

REDIS_PASSWORD=t2sGB4nk93qoSRyka41PhobvdhGRiENXzbOTNWIghuA=
REDIS_MAXMEMORY=2gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

VARNISH_SECRET=a4e0e397e4fcc53c1e43ac61d85f0e32f57013d3d964af23160de03e32a47592
VARNISH_MEMORY=256M

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup encryption
BACKUP_ENCRYPTION_PASSWORD=l2s9V1swT5xutKzaWQBiX4mn6aFxK7Ol5Sla1UcSx/Q=
RESTIC_PASSWORD=lzmQBscQXhnxupPH8jmGuN5LEU75miiTR8pS/Mz2FDw=

# Backup retention (days)
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=4
BACKUP_RETENTION_MONTHLY=3

# Backup schedule (cron format)
BACKUP_SCHEDULE_DB=0 2 * * *
BACKUP_SCHEDULE_FILES=0 3 * * *

# =============================================================================
# MONITORING & ALERTING
# =============================================================================

GRAFANA_ADMIN_PASSWORD=EBA7f6TlZsB1859yQG8zaqb86z3YVhQ6QcM0xwjglEY=
PROMETHEUS_RETENTION=30d

# Alerting (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SENDGRID_API_KEY=SG.your_sendgrid_key_here
SENDGRID_FROM_EMAIL=alerts@yourdomain.com
SENDGRID_TO_EMAIL=ops-team@yourdomain.com

# =============================================================================
# MANAGEMENT & ACCESS
# =============================================================================

PORTAINER_ADMIN_PASSWORD=KYJv8Hchh/TQoxhKaWhaD4Hzxh1/YBA+qRd+NODWluY=
TRAEFIK_DASHBOARD_PASSWORD_HASH='admin:$apr1$TQ0zzK0i$EYUv8/ewxXwFn6e32OQJa1'

# Contractor access settings
CONTRACTOR_SESSION_TIMEOUT=3600
CONTRACTOR_ALLOWED_IPS=0.0.0.0/0

# =============================================================================
# CLOUDFLARE & DNS
# =============================================================================

CF_API_TOKEN=your_cloudflare_token_here
CF_API_EMAIL=your-email@example.com
CF_ACCOUNT_ID=your_account_id_here

# Multi-zone config (see cloudflare-zones.yml for details)
CF_ZONES_CONFIG=${SCRIPT_DIR}/cloudflare-zones.yml

# =============================================================================
# DOMAIN & SSL
# =============================================================================

DOMAIN=yourdomain.com
LETSENCRYPT_EMAIL=admin@yourdomain.com

# =============================================================================
# DOCKER SWARM
# =============================================================================

# Join tokens (will be populated by init-swarm)
SWARM_MANAGER_TOKEN=
SWARM_WORKER_TOKEN=

# =============================================================================
# GENERATED CREDENTIALS REFERENCE
# =============================================================================
# Save these credentials securely!
#
# Grafana:  admin / EBA7f6TlZsB1859yQG8zaqb86z3YVhQ6QcM0xwjglEY=
# Portainer: admin / KYJv8Hchh/TQoxhKaWhaD4Hzxh1/YBA+qRd+NODWluY=
# Traefik:  admin / YZAdP/dHvUjvi7NoWoiW8w==
# MySQL:    root / uxPuDIVliqRNvbIRGHbH91uFnWV8zByaNVXyMJeBZvc=
#
